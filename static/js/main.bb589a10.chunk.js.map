{"version":3,"sources":["constants.js","img/dinosaur.png","img/dinosaur_left.png","img/dinosaur_right.png","img/dinosaur_die.png","img/img.js","img/replay.png","img/game_over.png","img/cloud.png","img/ground.png","img/cactus_1.png","img/dinosaur_crouch_left.png","img/dinosaur_crouch_right.png","img/flying_dinosaur_up.png","img/flying_dinosaur_down.png","Game.js","index.js"],"names":["STATUS","replayImage","Image","gameOverImage","skyImage","groundImage","dinoImage","dinoLeftImage","dinoRightImage","dinoDieImage","obstacleImage","dinoCrouchLeftImage","dinoCrouchRightImage","flyingDinoUpImage","flyingDinoDownImage","src","dinoPng","dinoLeftPng","dinoRightPng","dinoDiePng","Game","props","start","status","__setTimer","jump","pause","__clearTimer","goOn","stop","playerStatus","__draw","__clear","playerCrouch","restart","obstacles","__obstaclesGenerate","jumpHeight","jumpDelta","imageLoadCount","onImageLoaded","onload","options","fps","skySpeed","groundSpeed","0","1","2","3","4","5","skyOffset","groundOffset","timer","score","highScore","window","localStorage","obstaclesBase","currentDistance","innerWidth","this","canvas","width","onJump","onCrouch","e","onkeypress","code","onPause","onkeydown","onkeyup","parentNode","onclick","onblur","onfocus","level","Math","min","floor","obstacleWidth","dinoWidth","dinoHeight","height","ctx","getContext","clearRect","save","translate","drawImage","scoreText","font","textAlign","fillStyle","fillText","pop","i","length","console","log","distance","offset","shift","concat","firstOffset","restore","result","random","push","setInterval","clearInterval","id","ref","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb589a10.chunk.js","sourcesContent":["export const STATUS = {\n    STOP: 'STOP',\n    START: 'START',\n    PAUSE: 'PAUSE',\n    OVER: 'OVER'\n}\n\nexport const FPS = 60;\nexport const SKY_SPEED = 40;\nexport const GROUND_SPEED = 200;\nexport const SKY_OFFSET = 0;\nexport const GROUND_OFFSET = 0;\n\nexport const JUMP_DELTA = 5;\nexport const JUMP_MAX_HEIGHT = 53;\n\nexport const FONT = \"Bold 18px Arial\";\nexport const TEXT_ALIGN = \"right\";\nexport const FILL_STYLE = \"#595959\";\n","export default __webpack_public_path__ + \"static/media/dinosaur.196c6537.png\";","export default __webpack_public_path__ + \"static/media/dinosaur_left.38664ae7.png\";","export default __webpack_public_path__ + \"static/media/dinosaur_right.536513e6.png\";","export default __webpack_public_path__ + \"static/media/dinosaur_die.a3becd12.png\";","import replayPng from './replay.png';\nimport gameOverPng from './game_over.png';\nimport skyPng from './cloud.png';\nimport groundPng from './ground.png';\nimport dinoPng from './dinosaur.png';\nimport dinoLeftPng from './dinosaur_left.png';\nimport dinoRightPng from './dinosaur_right.png';\nimport dinoDiePng from './dinosaur_die.png';\nimport obstaclePng from './cactus_1.png';\nimport dinoCrouchLeftPng from './dinosaur_crouch_left.png';\nimport dinoCrouchRightPng from './dinosaur_crouch_right.png';\nimport flyingDinoUpPng from './flying_dinosaur_up.png';\nimport flyingDinoDownPng from './flying_dinosaur_down.png';\n\nlet replayImage = new Image();\nlet gameOverImage = new Image();\nlet skyImage = new Image();\nlet groundImage = new Image();\nlet dinoImage = new Image();\nlet dinoLeftImage = new Image();\nlet dinoRightImage = new Image();\nlet dinoDieImage = new Image();\nlet obstacleImage = new Image();\nlet dinoCrouchLeftImage = new Image();\nlet dinoCrouchRightImage = new Image();\nlet flyingDinoUpImage = new Image();\nlet flyingDinoDownImage = new Image();\n\nreplayImage.src = replayPng;\ngameOverImage.src = gameOverPng;\nskyImage.src = skyPng;\ngroundImage.src = groundPng;\ndinoImage.src = dinoPng; \ndinoLeftImage.src = dinoLeftPng;\ndinoRightImage.src = dinoRightPng;\ndinoDieImage.src = dinoDiePng;\nobstacleImage.src = obstaclePng;\ndinoCrouchLeftImage.src = dinoCrouchLeftPng;\ndinoCrouchRightImage.src = dinoCrouchRightPng;\nflyingDinoUpImage.src = flyingDinoUpPng;\nflyingDinoDownImage.src = flyingDinoDownPng;\n\nexport {\n    replayImage, gameOverImage, skyImage, groundImage,\n    dinoImage, dinoLeftImage, dinoRightImage, dinoDieImage, obstacleImage,\n    dinoCrouchLeftImage, dinoCrouchRightImage, flyingDinoUpImage, flyingDinoDownImage\n};","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAYAAAB6kdqOAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAIAAAAADNU2siAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAAA7klEQVRYCe2X4QrDIAyEu7E39Dl9xpUMrgTRXjTBynB/1KRePi/YsuNY7PfSPCmlr17PmuecL45r8hQMDg2oH9DTMBrqjcUq438Boe+R7rodioZyA4k7kVAfq92sqOTL26r3lLlWXZNDWrglJPG75+5yWpMCWYVElLlg0TK3rFZQF6jBIKaf027U5tSh2qYyhsJlfGTtBoqEkQO4gKJh3EAjLWF7XA4x8ZH8BmKudb2Het4nrHArT1sWeZMsWhRITmIRap0YcauGuWVWQQCMjiaHRsVH9m0g5tp2iDm05l9pUM+62qiHccYXALW6xxOty0xAsY5zEgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMMAAAANCAYAAAAUndpuAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAw6ADAAQAAAABAAAADQAAAAAd+WA6AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAABe0lEQVRoBe1WQQ6DMAxj037IO3njpmwyiiJnZW2YBJhL2zSxHVcFpkmPHJADbwduzId5np8sjtiyLLQO+62R4VdiMizPyfZ7NGc1PfgZVivu+4q5Izo8LsNp7Uctce3r415cM/6YE9db8CPuPYJoLQeu6sAjNu5vVLw5MbdnHfGxtrGKD5iGh3mP1qymSmeGvyXu+2J6bB85bH8Lx79y9tbH8Jk/62WAcWYAKx41JsMHFxNXyTmKpfrzO6DfpPOfsTrc6MD6Zcjy/RsdOXibY321kXliHpzVF/Rr/WFeeeYZ5h5+ZlzWT/MyQNA3kF+NqcRi3F6zn7Pcnhgwe2qPUoMe/Vn5ufWBnNGeqnAyHVF3pl2/SZmDil/OgfXLgNtptwg3CbFqVxguOCu5GE8l/hWwzEN2NkfyFlp9HzZHHOe4XgYEfPO+GPsap6nlSzR5D8/AYVoyPcgZ5QeO8WA+iunrM/3IqeI0HM+FOfD1mwTHNcoBOSAH5MDHgRdHpNYavh/wcwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAqgAAAAsAQMAAACTyNj4AAAABlBMVEUAAADAwMBkVjpxAAAAAXRSTlMAQObYZgAAAPZJREFUSMft1TFKA1EUheH/ZoZkhOBMGTAks4RUkkIwO3ALwRVYWsnbiWtwB28p09kO2FhIxlda/p0Q5lvA4XBucZn9mxiwdmiPR6TqK2Gd10hLMlLkGmnLSaeySjgdrz61/tGpTxmnpalxRpKdYIOdIBJ2gnYEXOoENLoqDLYqt/YCRa9SKRYY8UHRIdx1QGBUTMWIcGingtls9scDVpWxVp9Yby9Y60hIeYN1xKZWqcHqGXEWtPjU92RTb75xYgg7wY6uwanATnDAThAXoMPYDxC+KltblcjyAkUtz1qcMO57+3KrZ/3HOe/Lb7wgLGMqBmZX5BcmCDOa4UeMHQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAkCAYAAABWvWC/AAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAAJAAAAACj+usCAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAAAi0lEQVRIDe2U0QqAIAxFTfpDv9NvLAwOLJmxTQikepnpznV3likt+WyjqkspB2u1VjVPnZTgk0BmMRLfh7Hl3hmwRTcsezMPU4pUtYwzINECkTNfNkreuOjOu9Wndhphz+0fD8FcDuayAaTNG6z5ksn9OGuKfdLo/fIcFfjSBUgDQx/JD9MBZ5zq9glZNSYuDWzH6gAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAvCAYAAABHXlKwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAA3oAMABAAAAAEAAAAvAAAAAAvIPgoAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj40OTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTc8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4K4/roAgAAAQ9JREFUaAXtl4EKwyAQQ9uxP/Q7/cYNB5EStLPXXes0g2FbzzN5wY0uiz4iIAIiIAIiIAIiIAIiIAIiIAIiIAIiIAJzEwghvNJ3RArPHk2dhR1jXJOvbI4boqBmnutrdXvPv+2xt7ZlLptrKfau+QWwpBF9Vlx4C7f0R7JWjQ/Lpv+y5nPwklgrnZ6NzpEcEhgpwbmSGynBOZPrOUH8/0FjbZw7OVDx/BXlJKx7cR8lh/TSaKW67cHXTJznrffubwUl4QBUmrMaKa07ZA6iuBGL3Nbhmmu4h8f9rWcuGYd5D3OHkmMBtTRqz3m99/0pc1ZxV5k3mbtKnBUe1t165iDCa8xv4i0b8OHvPcGhk3sDlqVQC0Idzf4AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAuCAYAAACMAoEVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAA3oAMABAAAAAEAAAAuAAAAADaoF7oAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj40NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NTg8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KO7JoBQAAARVJREFUaAXtl4EOgyAMRHXZH/KdfONMlxxZGipYZKLckkWB0l7fyRaXhR8SIAESIAESIAESIAESIAESIAESIAESIIEigRDCR77FwBsGvEfU3Ao7xrhKX6k5nRABVvM63orbmy/V2Ntbs5aaqwnuHXMGMNGIPCtuegv35IezXo0vT9G77PkePBHrpTNyo3M4Bwee5OBczj3JwTmdG9lB/P9Bo3Wd2zlQ6fkrqp3w1tJ56Bzck6uX6m8Ofa+J63XvuPtbQU44AOXWvI3k9h1qzhKFeV2gt3hdT48vPXMCxQKjhXrGh5xDAQiynLHmsf9fV1dzreJGab6qj96PV5WITNClZy6j59Sp9CbekhVnEDlGeewe7dwGVEtR75C6U0wAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAA4CAYAAACGwxqMAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAsoAMABAAAAAEAAAA4AAAAAHvT+P8AAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+OTA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KVfazNAAAANhJREFUaAXt1NEOgyAMhWG3+IY8J884s4uziy4dMEtcx29iSG1t4LNx27gQiBUopTyed2xXv9vdT/1m5nZ2W1a31nq656c9ISydWdL/K9yaVZufJZ1OeJeEt3pyXr19rvejZjqdsPvPlIwVs7HkRuttn944nfDbDPdK9YrYOvXXl7H5VpxO+DXDOnnrhFH59YRH5aK+yKh03hkeFVZ9lLT6tdb1hCUSLe3N9rrCs6TVV+IIS+TbmZak+tg1nbA9ADECCCCAAAIIIIAAAggggAACCCCAAAIXCRyUDz4FQz7cAgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAA4CAYAAABpAXGyAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUGVYSWZNTQAqAAAACAACARIAAwAAAAEAAQAAh2kABAAAAAEAAAAmAAAAAAADoAEAAwAAAAEAAQAAoAIABAAAAAEAAAAtoAMABAAAAAEAAAA4AAAAAPx1M7wAAAIwaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA2LjAuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj41NzwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+OTA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KVfazNAAAANlJREFUaAXt1tEKhCAQheF26Q19Tp9xFxYO1KAmNboM/t1Ylkf5nKht40AAAQQQQMBZ4NWTl1L6HJ/LOXeNO47xPH97hs3K2lsTWeHWszPvhZQu1mav8L9qO6T0qaZ7hWfWb2mukNK/mp4t/PRdiCtdqptWn9fO3BVfR1q74CWuvKtWO7OetGS8xSWqfNsibUW8rq18SOnTv4eXzN0cK1rLQbom0ytYG2/7kbYi3sLKR1oSo4SVH1KaRWv7RreuX8TRtSyMkOWhxdMigAACCCCAAAIIIIDAIgJfZb8qXANskF8AAAAASUVORK5CYII=\"","import React from 'react';\n\nimport * as DEFAULT from './constants';\nimport { STATUS } from './constants';\nimport {\n    replayImage, gameOverImage, skyImage, groundImage,\n    dinoImage, dinoLeftImage, dinoRightImage, dinoDieImage, obstacleImage,\n    dinoCrouchLeftImage, dinoCrouchRightImage, flyingDinoUpImage, flyingDinoDownImage\n} from './img/img';\n\nexport default class Game extends React.Component {\n    constructor(props) {\n        super(props);\n\n        let imageLoadCount = 0;\n        let onImageLoaded = () => {\n            ++imageLoadCount;\n            if (imageLoadCount === 3) {\n                this.__draw();\n            }\n        };\n\n        // Image files\n        skyImage.onload = onImageLoaded;\n        groundImage.onload = onImageLoaded;\n        dinoImage.onload = onImageLoaded;\n\n        this.options = {\n            fps: DEFAULT.FPS,\n            skySpeed: DEFAULT.SKY_SPEED,\n            groundSpeed: DEFAULT.GROUND_SPEED,\n            skyImage: skyImage,\n            groundImage: groundImage,\n            // dinoImage: [dinoImage, dinoLeftImage, dinoRightImage, dinoDieImage],\n            dinoImage: {\n                0: dinoImage,\n                1: dinoLeftImage,\n                2: dinoRightImage,\n                3: dinoDieImage,\n                4: dinoCrouchLeftImage,\n                5: dinoCrouchRightImage\n            },\n            obstacleImage: obstacleImage,\n            skyOffset: DEFAULT.SKY_OFFSET,\n            groundOffset: DEFAULT.GROUND_OFFSET,\n            ...this.props.options\n        };\n\n        this.status = STATUS.STOP;\n        this.timer = null;\n        this.score = 0;\n        this.highScore = window.localStorage ? window.localStorage['highScore'] || 0 : 0;\n        this.jumpHeight = 0;\n        this.jumpDelta = 0;\n        this.obstaclesBase = 1;\n        this.obstacles = this.__obstaclesGenerate();\n        \n        this.currentDistance = 0;\n        this.playerStatus = 0;\n        this.playerCrouch = false;\n    }\n\n    componentDidMount() {\n        if (window.innerWidth >= 680) {\n            this.canvas.width = 680;\n        }\n\n        const onJump = () => {\n            switch (this.status) {\n                case STATUS.STOP:\n                    this.start();\n                    break;\n                case STATUS.START:\n                    this.jump();\n                    break;\n                case STATUS.OVER:\n                    this.restart();\n                    break;\n                default:\n                    break;\n            }\n        };\n\n        const onCrouch = (e) => {\n            if (this.status === STATUS.START) {\n                if (e === 'down') {\n                    this.playerStatus = this.playerStatus % 2 + 4;\n                    this.playerCrouch = true;\n                } else if (e === 'up') {\n                    this.playerStatus = 0;\n                    this.playerCrouch = false;\n                }\n            } else {\n                return;\n            }\n        }\n\n        const onPause = () => {\n            switch (this.status) {\n                case STATUS.PAUSE:\n                    this.goOn();\n                    break;\n                case STATUS.START:\n                    this.pause();\n                    break;\n                default:\n                    break;\n            }\n        }\n\n        window.onkeypress = (e) => {\n            if (e.code === 'Space' || e.code === 'ArrowUp' || e.code === 'KeyW') {\n                onJump();\n            } else if (e.code === 'KeyP') {\n                onPause();\n            }\n        }\n        window.onkeydown = (e) => {\n            if (e.code === 'ArrowDown' || e.code === 'KeyS') {\n                onCrouch('down');\n            }\n        }\n        window.onkeyup = (e) => {\n            if (e.code === 'ArrowDown' || e.code === 'KeyS') {\n                onCrouch('up');\n            }\n        }\n\n        this.canvas.parentNode.onclick = onJump;\n\n        window.onblur = this.pause;\n        window.onfocus = this.goOn;\n    }\n\n    componentWillUnmount() {\n        window.onblur = null;\n        window.onfocus = null;\n    }\n\n    __draw() {\n        if (!this.canvas) {\n            return;\n        }\n\n        const { options } = this;\n\n        let level = Math.min(200, Math.floor(this.score / 100));\n        let groundSpeed = (options.groundSpeed + level) / options.fps;\n        let skySpeed = options.skySpeed / options.fps;\n        let obstacleWidth = options.obstacleImage.width;\n        let dinoWidth = options.dinoImage[0].width;\n        let dinoHeight = options.dinoImage[0].height;\n\n        const ctx = this.canvas.getContext('2d');\n        const { width, height } = this.canvas;\n\n        ctx.clearRect(0, 0, width, height);\n        ctx.save();\n\n        // Draw cloud\n        this.options.skyOffset = this.options.skyOffset < width\n            ? (this.options.skyOffset + skySpeed)\n            : (this.options.skyOffset - width);\n        ctx.translate(-this.options.skyOffset, 0);\n        ctx.drawImage(this.options.skyImage, 0, 0);\n        ctx.drawImage(this.options.skyImage, this.options.skyImage.width, 0);\n\n        // Draw ground\n        this.options.groundOffset = this.options.groundOffset < width\n            ? (this.options.groundOffset + groundSpeed)\n            : (this.options.groundOffset - width);\n        ctx.translate(this.options.skyOffset - this.options.groundOffset, 0);\n        ctx.drawImage(this.options.groundImage, 0, 76);\n        ctx.drawImage(this.options.groundImage, this.options.groundImage.width, 76);\n\n        // Draw dinosaur\n        // Translate to top left corner\n        ctx.translate(this.options.groundOffset, 0);\n        ctx.drawImage(this.options.dinoImage[this.playerStatus], 80, 64 - this.jumpHeight);\n        // Update jump height and speed\n        this.jumpHeight = this.jumpHeight + this.jumpDelta;\n        if (this.jumpHeight <= 1) {\n            this.jumpHeight = 0;\n            this.jumpDelta = 0;\n        } else if (this.jumpHeight < DEFAULT.JUMP_MAX_HEIGHT && this.jumpDelta > 0) {\n            this.jumpDelta = (this.jumpHeight ** 2) * 0.001033 - this.jumpHeight * 0.137 + 5;\n        // } else if (this.jumpHeight < DEFAULT.JUMP_MAX_HEIGHT && this.jumpDelta < 0) {\n        //     this.jumpDelta = (this.jumpDelta ** 2) * 0.00023 - this.jumpHeight * 0.03 - 4;\n        } else if (this.jumpHeight >= DEFAULT.JUMP_MAX_HEIGHT) {\n            this.jumpDelta = - DEFAULT.JUMP_DELTA / 2;\n        }\n\n        // Draw score text\n        let scoreText = (this.status === STATUS.OVER) ? 'GAME OVER  ' : '';\n        scoreText += Math.floor(this.score);\n        ctx.font = \"Bold 18px Arial\";\n        ctx.textAlign = \"right\";\n        ctx.fillStyle = \"#595959\";\n        ctx.fillText(scoreText, width - 30, 23);\n        if (this.status === STATUS.START) {\n            this.score += 0.5;\n            if (this.score > this.highScore) {\n                this.highScore = this.score;\n                // console.log(\"Score: \" + this.score + \", New High: \" + this.highScore);\n                window.localStorage['highScore'] = this.highScore;\n            }\n            this.currentDistance += groundSpeed;\n            if (this.score % 4 === 0) {\n                if (!this.playerCrouch) {\n                    this.playerStatus = (this.playerStatus + 1) % 3;\n                } else {\n                    this.playerStatus = (this.playerStatus + 1) % 2 + 4;\n                }\n                // this.options.groundSpeed = Math.min((this.score / 10) + DEFAULT.GROUND_SPEED, 600);\n                // console.log(this.groundSpeed);\n            }\n        }\n\n        if (this.highScore) {\n            ctx.textAlign = \"left\";\n            ctx.fillText(\"HIGH \" + Math.floor(this.highScore), 30, 23);\n        }\n\n        // Draw obstacles\n        let pop = 0;\n        for (let i = 0; i < this.obstacles.length; ++i) {\n            console.log(pop);\n            if (this.currentDistance >= this.obstacles[i].distance) {\n                let offset = width - (this.currentDistance - this.obstacles[i].distance + groundSpeed);\n                if (offset > 0) {\n                    ctx.drawImage(this.options.obstacleImage, offset, 74);\n                } else {\n                    ++pop;\n                }\n                \n            } else {\n                break;\n            }\n        }\n        \n        for (let i = 0; i < pop; ++i) {\n            this.obstacles.shift();\n        }\n\n        if (this.obstacles.length < 5) {\n            this.obstacles = this.obstacles.concat(this.__obstaclesGenerate());\n        }\n\n        // Collision detection\n        let firstOffset = width - (this.currentDistance - this.obstacles[0].distance + groundSpeed);\n        if (90 - obstacleWidth < firstOffset &&\n            firstOffset < 60 + dinoWidth &&\n            64 - this.jumpHeight + dinoHeight > 84) {\n            ctx.drawImage(gameOverImage, width / 2 - 70, 40);\n            ctx.drawImage(replayImage, width / 2 + 10, 55);\n            this.stop();\n        }\n\n        ctx.restore();\n    }\n\n    __obstaclesGenerate() {\n        let result = [];\n        for (let i = 0; i < 10; ++i) {\n            let random = Math.floor(Math.random() * 100) % 60;\n            random = (Math.random() * 10 % 2 === 0 ? 1 : -1) * random;\n            result.push({\n                distance: random + this.obstaclesBase * 200\n            });\n            ++this.obstaclesBase;\n        }\n        return result;\n    }\n\n    __setTimer() {\n        this.timer = setInterval(() => {\n            this.__draw();\n        }, 1000 / this.options.fps);\n    }\n\n    __clearTimer() {\n        if (this.timer) {\n            clearInterval(this.timer);\n            this.timer = null;\n        }\n    }\n\n    __clear() {\n        this.score = 0;\n        this.jumpHeight = 0;\n        this.currentDistance = 0;\n        this.obstacles = [];\n        this.obstaclesBase = 1;\n        this.playerStatus = 0;\n    }\n\n    start = () => {\n        if (this.status === STATUS.START) {\n            return;\n        }\n\n        this.status = STATUS.START;\n        this.__setTimer();\n        this.jump();\n    };\n\n    pause = () => {\n        if (this.status === STATUS.START) {\n            this.status = STATUS.PAUSE;\n            this.__clearTimer();\n        }\n    };\n\n    goOn = () => {\n        if (this.status === STATUS.PAUSE) {\n            this.status = STATUS.START;\n            this.__setTimer();\n        }\n    };\n\n    stop = () => {\n        if (this.status === STATUS.OVER) {\n            return;\n        }\n\n        this.status = STATUS.OVER;\n        this.playerStatus = 3;\n        this.__clearTimer();\n        this.__draw();\n        this.__clear();\n        this.playerStatus = 0;\n        this.playerCrouch = false;\n    };\n\n    restart = () => {\n        this.obstacles = this.__obstaclesGenerate();\n        this.start();\n    };\n\n    jump = () => {\n        if (this.jumpHeight > 2) {\n            return;\n        }\n\n        this.jumpDelta = DEFAULT.JUMP_DELTA;\n        this.jumpHeight = DEFAULT.JUMP_DELTA;\n    };\n\n    render() {\n        return (\n            <canvas\n                id=\"canvas\"\n                ref={ref => this.canvas = ref}\n                height={160}\n                width={340}\n            />\n        );\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Game from './Game';\n\nReactDOM.render(\n  <Game />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}